import{r as f,j as B,G as F,_ as m}from"./index-BkRZouuw.js";import{u as I,g as z,b as A,e as O,f as W,h as q,i as G}from"./ButtonBase-DmxaCh9k.js";import{c as _,T as J,d as K,g as L,b as U}from"./useSlot-BzCVnAiO.js";function Q(t){var e;return parseInt(f.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const V={entering:{opacity:1},entered:{opacity:1}},X=f.forwardRef(function(e,r){const n=_(),y={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:s,appear:i=!0,children:a,easing:h,in:k,onEnter:E,onEntered:b,onEntering:C,onExit:x,onExited:v,onExiting:T,style:d,timeout:g=y,TransitionComponent:w=J,...P}=e,u=f.useRef(null),R=I(u,Q(a),r),c=o=>l=>{if(o){const p=u.current;l===void 0?o(p):o(p,l)}},S=c(C),j=c((o,l)=>{K(o);const p=L({style:d,timeout:g,easing:h},{mode:"enter"});o.style.webkitTransition=n.transitions.create("opacity",p),o.style.transition=n.transitions.create("opacity",p),E&&E(o,l)}),M=c(b),N=c(T),D=c(o=>{const l=L({style:d,timeout:g,easing:h},{mode:"exit"});o.style.webkitTransition=n.transitions.create("opacity",l),o.style.transition=n.transitions.create("opacity",l),x&&x(o)}),H=c(v),$=o=>{s&&s(u.current,o)};return B.jsx(w,{appear:i,in:k,nodeRef:u,onEnter:j,onEntered:M,onEntering:S,onExit:D,onExited:H,onExiting:N,addEndListener:$,timeout:g,...P,children:(o,{ownerState:l,...p})=>f.cloneElement(a,{style:{opacity:0,visibility:o==="exited"&&!k?"hidden":void 0,...V[o],...d,...a.props.style},ref:R,...p})})});function Y(t){return A("MuiBackdrop",t)}z("MuiBackdrop",["root","invisible"]);const Z=t=>{const{classes:e,invisible:r}=t;return G({root:["root",r&&"invisible"]},Y,e)},tt=O("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),rt=f.forwardRef(function(e,r){const n=W({props:e,name:"MuiBackdrop"}),{children:y,className:s,component:i="div",invisible:a=!1,open:h,components:k={},componentsProps:E={},slotProps:b={},slots:C={},TransitionComponent:x,transitionDuration:v,...T}=n,d={...n,component:i,invisible:a},g=Z(d),w={transition:x,root:k.Root,...C},P={...E,...b},u={slots:w,slotProps:P},[R,c]=U("root",{elementType:tt,externalForwardedProps:u,className:q(g.root,s),ownerState:d}),[S,j]=U("transition",{elementType:X,externalForwardedProps:u,ownerState:d});return B.jsx(S,{in:h,timeout:v,...T,...j,children:B.jsx(R,{"aria-hidden":!0,...c,classes:g,ref:r,children:y})})});function st(t){return F({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12H4"},child:[]}]})(t)}function it(t){return F({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"},child:[]}]})(t)}const at=()=>{const[t,e]=f.useState(!1),r="http://3.110.208.70:3000",n=localStorage.getItem("token");return{updateCart:async(s,i)=>{if(!s||!i||typeof i!="object")return m.error("Cart ID and valid payload are required!"),null;try{e(!0);const a=await fetch(`${r}/carts/${s}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(i)}),h=await a.json();return a.ok?h:(m.error("Failed to update cart!",{className:"toast-error"}),null)}catch{return m.error("An error occurred while updating the cart!",{className:"toast-error"}),null}finally{e(!1)}},loading:t}},ct=()=>{const[t,e]=f.useState(!1),r="http://3.110.208.70:3000",n=localStorage.getItem("token");return{deleteProduct:async s=>{if(!s)return m.error("Cart ID is required to delete an item!"),null;try{e(!0);const i=await fetch(`${r}/carts/${s}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}}),a=await i.json();return i.ok?a:(m.error("Failed to delete item from cart!",{className:"toast-error"}),null)}catch{return m.error("Failed to delete item from cart!",{className:"toast-error"}),null}finally{e(!1)}},loading:t}};export{rt as B,st as H,at as a,it as b,Q as g,ct as u};
